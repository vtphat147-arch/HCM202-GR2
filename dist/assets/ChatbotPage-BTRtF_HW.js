import{j as e,c as j}from"./index-CeETfnj8.js";import{b as r,s as N,k as n,_ as k,$ as C,a0 as S,a1 as D,o as A,a2 as I}from"./vendor-Coc8YaK4.js";import"./gemini-nZvJrMcm.js";const T={vi:["Việt Nam gia nhập ASEAN năm nào?","Lợi ích của hiệp định EVFTA là gì?","Vai trò của Việt Nam trong Liên Hợp Quốc?","Danh sách các đối tác chiến lược toàn diện?","Chính sách 'Ngoại giao cây tre' là gì?"],en:["When did Vietnam join ASEAN?","What are the benefits of EVFTA?","Vietnam's role in the United Nations?","List of comprehensive strategic partners?","What is 'Bamboo Diplomacy'?"]},G=({language:s,onBack:p})=>{const[o,d]=r.useState([{id:"1",text:s==="vi"?"Xin chào! Tôi là trợ lý ảo chuyên về đối ngoại Việt Nam. Bạn muốn tìm hiểu gì về quan hệ quốc tế, kinh tế hay lịch sử ngoại giao?":"Hello! I am an AI assistant specializing in Vietnam's foreign affairs. What would you like to know about international relations, economy, or diplomatic history?",sender:"ai",timestamp:new Date}]),[l,m]=r.useState(""),[a,x]=r.useState(!1),u=r.useRef(null),f=()=>{var t;(t=u.current)==null||t.scrollIntoView({behavior:"smooth"})};r.useEffect(()=>{f()},[o]);const c=async(t=l)=>{if(!t.trim())return;const h={id:Date.now().toString(),text:t,sender:"user",timestamp:new Date};d(i=>[...i,h]),m(""),x(!0);try{const i=await j(t,s),y={id:(Date.now()+1).toString(),text:i,sender:"ai",timestamp:new Date};d(v=>[...v,y])}catch(i){console.error("Chat error",i)}finally{x(!1)}},g=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),c())},b=t=>{navigator.clipboard.writeText(t)},w=()=>{d([{id:Date.now().toString(),text:s==="vi"?"Cuộc trò chuyện đã được làm mới. Tôi có thể giúp gì cho bạn?":"Chat has been reset. How can I help you?",sender:"ai",timestamp:new Date}])};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)] bg-slate-50 max-w-5xl mx-auto w-full shadow-2xl rounded-2xl overflow-hidden my-4 border border-gray-200 relative",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-96 h-96 bg-blue-100 rounded-full blur-3xl opacity-30"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-96 h-96 bg-gold-100 rounded-full blur-3xl opacity-30"})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-4 flex items-center justify-between shadow-sm z-10 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:p,className:"hover:bg-gray-100 p-2 rounded-full transition-colors text-gray-600",title:s==="vi"?"Quay lại":"Back",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold flex items-center gap-2 text-diplomatic-900",children:[e.jsx("div",{className:"bg-diplomatic-900 p-1.5 rounded-lg",children:e.jsx(n,{className:"w-5 h-5 text-gold-400"})}),s==="vi"?"Trợ Lý Ngoại Giao AI":"Diplomatic AI Assistant"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:s==="vi"?"Sẵn sàng hỗ trợ":"Online & Ready"})]})]})]}),e.jsx("button",{onClick:w,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",title:s==="vi"?"Xóa đoạn chat":"Clear chat",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-grow overflow-y-auto p-4 md:p-6 space-y-6 z-10 scroll-smooth",children:[o.map(t=>e.jsx("div",{className:`flex ${t.sender==="user"?"justify-end":"justify-start"} animate-fade-in-up`,children:e.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${t.sender==="user"?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm ${t.sender==="user"?"bg-gradient-to-br from-blue-500 to-blue-600":"bg-gradient-to-br from-diplomatic-800 to-diplomatic-900"}`,children:t.sender==="user"?e.jsx(C,{className:"w-5 h-5 text-white"}):e.jsx(n,{className:"w-5 h-5 text-gold-400"})}),e.jsxs("div",{className:`group relative p-4 rounded-2xl text-sm md:text-base shadow-sm leading-relaxed ${t.sender==="user"?"bg-blue-600 text-white rounded-tr-none":"bg-white text-gray-800 rounded-tl-none border border-gray-100"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap",children:t.text}),e.jsxs("div",{className:`flex items-center gap-2 mt-2 text-[10px] opacity-70 ${t.sender==="user"?"justify-end text-blue-100":"justify-start text-gray-400"}`,children:[e.jsx("span",{children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),t.sender==="ai"&&e.jsx("button",{onClick:()=>b(t.text),className:"opacity-0 group-hover:opacity-100 transition-opacity hover:text-diplomatic-900",title:"Copy",children:e.jsx(S,{className:"w-3 h-3"})})]})]})]})},t.id)),a&&e.jsx("div",{className:"flex justify-start animate-pulse",children:e.jsxs("div",{className:"flex max-w-[80%] gap-3",children:[e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-diplomatic-900 flex items-center justify-center flex-shrink-0",children:e.jsx(n,{className:"w-5 h-5 text-gold-400"})}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-gray-100 shadow-sm flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}),e.jsx("div",{ref:u})]}),e.jsxs("div",{className:"bg-white border-t border-gray-200 z-20",children:[o.length<3&&e.jsxs("div",{className:"px-4 pt-4 pb-2 overflow-x-auto no-scrollbar flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gold-600 uppercase tracking-wider mr-2 flex-shrink-0",children:[e.jsx(D,{className:"w-3 h-3"}),s==="vi"?"Gợi ý:":"Ideas:"]}),T[s].map((t,h)=>e.jsx("button",{onClick:()=>c(t),className:"flex-shrink-0 px-3 py-1.5 bg-gray-50 hover:bg-blue-50 text-gray-600 hover:text-blue-700 text-xs rounded-full border border-gray-200 hover:border-blue-200 transition-all whitespace-nowrap",children:t},h))]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"relative flex items-center gap-2 bg-gray-50 p-2 rounded-full border border-gray-200 focus-within:border-blue-400 focus-within:ring-4 focus-within:ring-blue-50 transition-all shadow-inner",children:[e.jsx("input",{type:"text",value:l,onChange:t=>m(t.target.value),onKeyDown:g,placeholder:s==="vi"?"Nhập câu hỏi của bạn về đối ngoại Việt Nam...":"Ask about Vietnam's foreign affairs...",className:"flex-grow px-4 py-2 bg-transparent focus:outline-none text-gray-700 placeholder-gray-400",disabled:a,autoFocus:!0}),e.jsx("button",{onClick:()=>c(),disabled:!l.trim()||a,className:`p-3 rounded-full transition-all duration-300 shadow-sm flex items-center justify-center ${!l.trim()||a?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-diplomatic-900 text-gold-400 hover:bg-diplomatic-800 hover:scale-105"}`,children:a?e.jsx(A,{className:"w-5 h-5 animate-spin"}):e.jsx(I,{className:"w-5 h-5"})})]}),e.jsxs("p",{className:"text-[10px] text-center text-gray-400 mt-3 flex items-center justify-center gap-1",children:[e.jsx(n,{className:"w-3 h-3"}),s==="vi"?"AI được hỗ trợ bởi Google Gemini. Thông tin chỉ mang tính tham khảo.":"Powered by Google Gemini. Information is for reference only."]})]})]})]})};export{G as default};
